<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TODO</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/peerjs/1.5.4/peerjs.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

  <script src="util.js"></script>
  <script src="lm.js"></script>

  <script src="profile.js"></script>

  <script src="input.js"></script>

  <script src="p2pnode.js"></script>
  <script src="p2pnode.view.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dexie/3.2.4/dexie.min.js"></script>

  <script src="store.js"></script>
  <script src="todo.js"></script>

  <link href="todo.css" rel="stylesheet"/>

</head>
<body>
<div id="todolist"></div>

<div id="net">
  <node-status-view></node-status-view>
  <bootstrap-discovery-view></bootstrap-discovery-view>
  <send-message-view></send-message-view>
  <network-messages-view></network-messages-view>
  <network-log-view></network-log-view>
</div>

<script>

  function item(text) {
    let e = $('<div>');
    e.append(text).append('<button>*</button>');
    return e[0];

  }

  const todo = new TodoList(document.getElementById('todolist'), {
    renderers: {
      textDisplay: text => item(text)
      // textEditor: options => {
      //
      // }
    }
  });

  const node = new P2PNode();


  document.querySelector('node-status-view').nodeReference = node;

  document.querySelector('bootstrap-discovery-view').nodeReference = node;

  document.querySelector('send-message-view').nodeReference = node;

  document.querySelector('network-messages-view').nodeReference = node;

  document.querySelector('network-log-view').nodeReference = node;

</script>
</body>
</html>